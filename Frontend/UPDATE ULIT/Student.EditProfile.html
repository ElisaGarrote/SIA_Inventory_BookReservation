<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIARCHIVE</title>
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="Student.EditProfile.css">
</head>
<body>

    <h2>Edit Profile</h2>

    <!-- Form with aligned text boxes -->
    <form id="profile-form">
        <div class="four-forms">
            <div class="input-box">
                <label for="lastname">Lastname:</label>
                <input type="text" class="input-field" id="lastname" placeholder="Lastname:" readonly>
                <i class="bx bx-user"></i>
            </div>
            <div class="input-box">
                <label for="firstname">Firstname:</label>
                <input type="text" class="input-field" id="firstname" placeholder="Firstname:" readonly>
                <i class="bx bx-user"></i>
            </div>
            <div class="input-box">
                <label for="middlename">Middlename:</label>
                <input type="text" class="input-field" id="middlename" placeholder="Middlename:" readonly>
                <i class="bx bx-user"></i>
            </div>
            <div class="input-box">
                <label for="suffix">Suffix:</label>
                <input type="text" class="input-field" id="suffix" placeholder="Suffix:" readonly>
                <i class="bx bx-user"></i>
            </div>
          </div>
          
          <!-- Gender and Program Section -->
          <div class="two-forms">
            <div class="input-box">
                <label for="gender">Gender:</label>
                <input type="text" class="input-field" id="gender" placeholder="Gender:" readonly>
                <i class="bx bx-chevron-down"></i>
            </div>
          
            <div class="input-box">
                <label for="program">College Program:</label>
                <input type="text" class="input-field" id="program" placeholder="College Program:" readonly>
                <i class="bx bx-chevron-down"></i>
            </div>
          </div>
          
          <!-- Contact Section -->
          <div class="input-box">
            <label for="contact">Contact Number:</label>
            <input type="text" class="input-field" id="contact" placeholder="Contact Number:" readonly>
            <i class="bx bx-contact"></i>
          </div>
          
          <div class="input-box">
            <label for="email">E-mail Address:</label>
            <input type="email" class="input-field" id="email" placeholder="E-mail Address:" readonly>
            <i class="bx bx-envelope"></i>
          </div>     
    </form>

<div class="button-group">
    <button type="button" class="btn btn-cancel">Cancel</button>
    <button type="button" class="btn btn-save">Save Changes</button>
</div>

<script>
    // Select elements
    const saveButton = document.querySelector('.btn-save');
    const cancelButton = document.querySelector('.btn-cancel');
    const profileForm = document.getElementById('profile-form');

    // Add event listener to toggle between editable and non-editable state for inputs
    profileForm.addEventListener('click', function(event) {
        if (event.target && event.target.classList.contains('input-field')) {
            const targetField = event.target;
            // Toggle the 'readonly' attribute
            if (targetField.hasAttribute('readonly')) {
                targetField.removeAttribute('readonly'); // Make editable
                targetField.style.backgroundColor = '#fff'; // Indicate edit mode
            }
        }
    });

    // Add event listener to "Save Changes" button
    saveButton.addEventListener('click', function() {
        const formFields = profileForm.querySelectorAll('.input-field');
        formFields.forEach(field => {
            // Disable the fields to prevent further editing
            field.setAttribute('readonly', true); // Prevent further editing
            field.style.backgroundColor = '#f0f0f0'; // Indicate non-editable state
        });
        alert("Changes saved successfully!");
    });

// Add event listener to "Cancel" button
cancelButton.addEventListener('click', function() {
    const formFields = profileForm.querySelectorAll('.input-field');
    formFields.forEach(field => {
        // Reset values to their original defaults and make fields readonly
        field.setAttribute('readonly', true);
        field.style.backgroundColor = '#f0f0f0'; // Reset to readonly style
        field.value = field.defaultValue; // Reset value to default
    });

    // Show confirmation dialog before closing the tab
    const userConfirmed = confirm("Changes were canceled.");
    if (userConfirmed) {
        window.close(); // Close the tab
    }
});
</script>


</body>
</html>